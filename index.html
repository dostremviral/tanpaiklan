<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="monetag" content="82d151422eebfd582a09baed1158ba5f">

  <!-- popunder -->
  <script>(function(s){s.dataset.zone='9682172',s.src='https://al5sm.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
  
  <title>DOODSTREAM PRO MILD</title>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      height: 100%;
      width: 100%;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #video-container {
      width: 100%;
      height: 100%;
      position: relative;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #video-player {
      width: 100%;
      height: 100%;
      object-fit: contain;
      background-color: #000;
      display: block;
    }
    .loading-spinner {
      border: 5px solid rgba(0, 255, 0, 0.2);
      border-top: 5px solid #00ff00;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      display: none;
    }
    @keyframes spin {
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }
    #error-message {
      position: absolute;
      color: red;
      text-align: center;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: sans-serif;
      display: none;
      z-index: 20;
    }
  </style>
</head>
<body>
  <div id="video-container">
    <div class="loading-spinner" id="loading-spinner"></div>
    <video 
      id="video-player" 
      controls 
      controlsList="nodownload noremoteplayback" 
      disablePictureInPicture
      preload="metadata">
      Your browser does not support the video tag.
    </video>
    <div id="error-message">Error memuat video.</div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      let urlPath = window.location.pathname;
      let videoId = '';

      if (urlPath.startsWith('/')) urlPath = urlPath.substring(1);
      if (urlPath.startsWith('e/')) videoId = urlPath.substring(2);
      else videoId = urlPath;

      const videoPlayer = document.getElementById('video-player');
      const loadingSpinner = document.getElementById('loading-spinner');
      const errorMessage = document.getElementById('error-message');

      if (!videoId) {
        errorMessage.textContent = 'ID video tidak ditemukan di URL.';
        errorMessage.style.display = 'block';
        return;
      }

      loadingSpinner.style.display = 'block';

      try {
        const response = await axios.get('https://raw.githubusercontent.com/DoodstreamPro/_e/refs/heads/main/Video.json', { timeout: 10000 });
        const videos = response.data;
        const foundVideo = videos.find(video => video.id === videoId);

        if (foundVideo) {
          videoPlayer.src = foundVideo.Url;
          videoPlayer.addEventListener('error', () => {
            errorMessage.textContent = 'Error memutar video. Periksa koneksi atau format video.';
            errorMessage.style.display = 'block';
          });
          videoPlayer.addEventListener('loadeddata', () => {
            loadingSpinner.style.display = 'none';
          });
          videoPlayer.load();
        } else {
          errorMessage.textContent = `Video dengan ID ${videoId} tidak ditemukan.`;
          errorMessage.style.display = 'block';
        }
      } catch (error) {
        errorMessage.textContent = 'Error mengambil data video.';
        errorMessage.style.display = 'block';
      } finally {
        loadingSpinner.style.display = 'none';
      }
    });

    // Nonaktifkan klik kanan di video
    const videoPlayer = document.getElementById('video-player');
    videoPlayer.addEventListener('contextmenu', e => e.preventDefault());
  </script>
</body>
</html>